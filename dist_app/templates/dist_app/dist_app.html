{% extends 'base.html' %}
{% block content %}
{% load static %}

<head>
    <meta charset="utf-8">
    <title>ì„ ì˜ ê±°ë¦¬ ê³„ì‚°í•˜ê¸°</title>
    <style>
.dot {overflow:hidden;float:left;width:12px;height:12px;background: url('https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/mini_circle.png');}
.dotOverlay {position:relative;bottom:10px;border-radius:6px;border: 1px solid #ccc;border-bottom:2px solid #ddd;float:left;font-size:12px;padding:5px;background:#fff;}
.dotOverlay:nth-of-type(n) {border:0; box-shadow:0px 1px 2px #888;}
.number {font-weight:bold;color:#ee6152;}
.dotOverlay:after {content:'';position:absolute;margin-left:-6px;left:50%;bottom:-8px;width:11px;height:8px;background:url('https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/vertex_white_small.png')}
.distanceInfo {position:relative;top:5px;left:5px;list-style:none;margin:0;}
.distanceInfo .label {display:inline-block;width:50px;}
.distanceInfo:after {content:none;}
</style>
</head>

<link rel="stylesheet" href="{% static 'dist_app/index.css'%}">
<!-- Page Header-->
        <header class="masthead" style="background-image: url('https://r1.community.samsung.com/t5/image/serverpage/image-id/97013i0A48A54A0ABC0C2D/image-size/large?v=v2&px=999')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="site-heading">
                            <span class="subheading">TODAY TOUR </span>
                            <h2 id="star"> ì œì£¼ë„ í‘¸ë¥¸ë°¤ ê·¸ ë³„ ì•„ë˜ </h2>
                        </div>
                    </div>
                </div>
            </div>
        </header>


<p id="dist"> ğŸ¾ ê°™ì´ ê±·ì ì œì£¼ì˜¬ë ˆê¸¸ ğŸ¾ </p>
<div id="holder" >
    <div class="button" style="margin-right: 3%;">
        <button class="btnText"><a href="{% url 'dist_app:index'%}">COURSE 1</a></button>
        <div class="btnTwo">
          <p class="btnText2">GO!</p>
        </div>
     </div>
    
     <div class="button" style="margin-right: 3%;">
        <button class="btnText"><a href="{% url 'dist_app:index2'%}">COURSE 13</a></button>
        <div class="btnTwo">
            <p class="btnText2">GO!</p>
        </div>
     </div>

     <div class="button">
        <button class="btnText"><a href="{% url 'dist_app:index3'%}">COURSE 14-1</a></button>
        <div class="btnTwo">
            <p class="btnText2">GO!</p>
        </div>
     </div>
</div>
<br>


<!-- ì§€ë„ë¥¼ í‘œì‹œí•  div ì…ë‹ˆë‹¤ -->

<div id="map" style="width:50%;height:400px; margin: auto;"></div>
<p id="add_text" style="margin-left: 28%;">
    <em> ( ì§€ë„ë¥¼ ë§ˆìš°ìŠ¤ë¡œ í´ë¦­í•˜ë©´ ì„  ê·¸ë¦¬ê¸°ê°€ ì‹œì‘ë˜ê³ , ì˜¤ë¥¸ìª½ ë§ˆìš°ìŠ¤ë¥¼ í´ë¦­í•˜ë©´ ì„  ê·¸ë¦¬ê¸°ê°€ ì¢…ë£Œë©ë‹ˆë‹¤ )</em>
</p>

<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=627103604d18d2289930b62ebcc65f7b"></script>


<script>
var mapContainer = document.getElementById('map'), // ì§€ë„ë¥¼ í‘œì‹œí•  div
    mapOption = {
        center: new kakao.maps.LatLng(33.46491256585191, 126.89779478849705), // ì§€ë„ì˜ ì¤‘ì‹¬ì¢Œí‘œ
        level: 7 // ì§€ë„ì˜ í™•ëŒ€ ë ˆë²¨
    };

var map = new kakao.maps.Map(mapContainer, mapOption); // ì§€ë„ë¥¼ ìƒì„±í•©ë‹ˆë‹¤

var drawingFlag = false; // ì„ ì´ ê·¸ë ¤ì§€ê³  ìˆëŠ” ìƒíƒœë¥¼ ê°€ì§€ê³  ìˆì„ ë³€ìˆ˜ì…ë‹ˆë‹¤
var moveLine; // ì„ ì´ ê·¸ë ¤ì§€ê³  ìˆì„ë•Œ ë§ˆìš°ìŠ¤ ì›€ì§ì„ì— ë”°ë¼ ê·¸ë ¤ì§ˆ ì„  ê°ì²´ ì…ë‹ˆë‹¤
var clickLine // ë§ˆìš°ìŠ¤ë¡œ í´ë¦­í•œ ì¢Œí‘œë¡œ ê·¸ë ¤ì§ˆ ì„  ê°ì²´ì…ë‹ˆë‹¤
var distanceOverlay; // ì„ ì˜ ê±°ë¦¬ì •ë³´ë¥¼ í‘œì‹œí•  ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ ì…ë‹ˆë‹¤
var dots = {}; // ì„ ì´ ê·¸ë ¤ì§€ê³  ìˆì„ë•Œ í´ë¦­í•  ë•Œë§ˆë‹¤ í´ë¦­ ì§€ì ê³¼ ê±°ë¦¬ë¥¼ í‘œì‹œí•˜ëŠ” ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ ë°°ì—´ì…ë‹ˆë‹¤.

// ì§€ë„ì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
// ì§€ë„ë¥¼ í´ë¦­í•˜ë©´ ì„  ê·¸ë¦¬ê¸°ê°€ ì‹œì‘ë©ë‹ˆë‹¤ ê·¸ë ¤ì§„ ì„ ì´ ìˆìœ¼ë©´ ì§€ìš°ê³  ë‹¤ì‹œ ê·¸ë¦½ë‹ˆë‹¤
kakao.maps.event.addListener(map, 'click', function(mouseEvent) {

    // ë§ˆìš°ìŠ¤ë¡œ í´ë¦­í•œ ìœ„ì¹˜ì…ë‹ˆë‹¤
    var clickPosition = mouseEvent.latLng;

    // ì§€ë„ í´ë¦­ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆëŠ”ë° ì„ ì„ ê·¸ë¦¬ê³ ìˆëŠ” ìƒíƒœê°€ ì•„ë‹ˆë©´
    if (!drawingFlag) {

        // ìƒíƒœë¥¼ trueë¡œ, ì„ ì´ ê·¸ë¦¬ê³ ìˆëŠ” ìƒíƒœë¡œ ë³€ê²½í•©ë‹ˆë‹¤
        drawingFlag = true;

        // ì§€ë„ ìœ„ì— ì„ ì´ í‘œì‹œë˜ê³  ìˆë‹¤ë©´ ì§€ë„ì—ì„œ ì œê±°í•©ë‹ˆë‹¤
        deleteClickLine();

        // ì§€ë„ ìœ„ì— ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ê°€ í‘œì‹œë˜ê³  ìˆë‹¤ë©´ ì§€ë„ì—ì„œ ì œê±°í•©ë‹ˆë‹¤
        deleteDistnce();

        // ì§€ë„ ìœ„ì— ì„ ì„ ê·¸ë¦¬ê¸° ìœ„í•´ í´ë¦­í•œ ì§€ì ê³¼ í•´ë‹¹ ì§€ì ì˜ ê±°ë¦¬ì •ë³´ê°€ í‘œì‹œë˜ê³  ìˆë‹¤ë©´ ì§€ë„ì—ì„œ ì œê±°í•©ë‹ˆë‹¤
        deleteCircleDot();

        // í´ë¦­í•œ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„ ì„ ìƒì„±í•˜ê³  ì§€ë„ìœ„ì— í‘œì‹œí•©ë‹ˆë‹¤
        clickLine = new kakao.maps.Polyline({
            map: map, // ì„ ì„ í‘œì‹œí•  ì§€ë„ì…ë‹ˆë‹¤
            path: [clickPosition], // ì„ ì„ êµ¬ì„±í•˜ëŠ” ì¢Œí‘œ ë°°ì—´ì…ë‹ˆë‹¤ í´ë¦­í•œ ìœ„ì¹˜ë¥¼ ë„£ì–´ì¤ë‹ˆë‹¤
            strokeWeight: 3, // ì„ ì˜ ë‘ê»˜ì…ë‹ˆë‹¤
            strokeColor: '#db4040', // ì„ ì˜ ìƒ‰ê¹”ì…ë‹ˆë‹¤
            strokeOpacity: 1, // ì„ ì˜ ë¶ˆíˆ¬ëª…ë„ì…ë‹ˆë‹¤ 0ì—ì„œ 1 ì‚¬ì´ê°’ì´ë©° 0ì— ê°€ê¹Œìš¸ìˆ˜ë¡ íˆ¬ëª…í•©ë‹ˆë‹¤
            strokeStyle: 'solid' // ì„ ì˜ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤
        });

        // ì„ ì´ ê·¸ë ¤ì§€ê³  ìˆì„ ë•Œ ë§ˆìš°ìŠ¤ ì›€ì§ì„ì— ë”°ë¼ ì„ ì´ ê·¸ë ¤ì§ˆ ìœ„ì¹˜ë¥¼ í‘œì‹œí•  ì„ ì„ ìƒì„±í•©ë‹ˆë‹¤
        moveLine = new kakao.maps.Polyline({
            strokeWeight: 3, // ì„ ì˜ ë‘ê»˜ì…ë‹ˆë‹¤
            strokeColor: '#db4040', // ì„ ì˜ ìƒ‰ê¹”ì…ë‹ˆë‹¤
            strokeOpacity: 0.5, // ì„ ì˜ ë¶ˆíˆ¬ëª…ë„ì…ë‹ˆë‹¤ 0ì—ì„œ 1 ì‚¬ì´ê°’ì´ë©° 0ì— ê°€ê¹Œìš¸ìˆ˜ë¡ íˆ¬ëª…í•©ë‹ˆë‹¤
            strokeStyle: 'solid' // ì„ ì˜ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤
        });

        // í´ë¦­í•œ ì§€ì ì— ëŒ€í•œ ì •ë³´ë¥¼ ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
        displayCircleDot(clickPosition, 0);


    } else { // ì„ ì´ ê·¸ë ¤ì§€ê³  ìˆëŠ” ìƒíƒœì´ë©´

        // ê·¸ë ¤ì§€ê³  ìˆëŠ” ì„ ì˜ ì¢Œí‘œ ë°°ì—´ì„ ì–»ì–´ì˜µë‹ˆë‹¤
        var path = clickLine.getPath();

        // ì¢Œí‘œ ë°°ì—´ì— í´ë¦­í•œ ìœ„ì¹˜ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤
        path.push(clickPosition);

        // ë‹¤ì‹œ ì„ ì— ì¢Œí‘œ ë°°ì—´ì„ ì„¤ì •í•˜ì—¬ í´ë¦­ ìœ„ì¹˜ê¹Œì§€ ì„ ì„ ê·¸ë¦¬ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤
        clickLine.setPath(path);

        var distance = Math.round(clickLine.getLength());
        displayCircleDot(clickPosition, distance);
    }
});

// ì§€ë„ì— ë§ˆìš°ìŠ¤ë¬´ë¸Œ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
// ì„ ì„ ê·¸ë¦¬ê³ ìˆëŠ” ìƒíƒœì—ì„œ ë§ˆìš°ìŠ¤ë¬´ë¸Œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ê·¸ë ¤ì§ˆ ì„ ì˜ ìœ„ì¹˜ë¥¼ ë™ì ìœ¼ë¡œ ë³´ì—¬ì£¼ë„ë¡ í•©ë‹ˆë‹¤
kakao.maps.event.addListener(map, 'mousemove', function (mouseEvent) {

    // ì§€ë„ ë§ˆìš°ìŠ¤ë¬´ë¸Œ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆëŠ”ë° ì„ ì„ ê·¸ë¦¬ê³ ìˆëŠ” ìƒíƒœì´ë©´
    if (drawingFlag){

        // ë§ˆìš°ìŠ¤ ì»¤ì„œì˜ í˜„ì¬ ìœ„ì¹˜ë¥¼ ì–»ì–´ì˜µë‹ˆë‹¤
        var mousePosition = mouseEvent.latLng;

        // ë§ˆìš°ìŠ¤ í´ë¦­ìœ¼ë¡œ ê·¸ë ¤ì§„ ì„ ì˜ ì¢Œí‘œ ë°°ì—´ì„ ì–»ì–´ì˜µë‹ˆë‹¤
        var path = clickLine.getPath();

        // ë§ˆìš°ìŠ¤ í´ë¦­ìœ¼ë¡œ ê·¸ë ¤ì§„ ë§ˆì§€ë§‰ ì¢Œí‘œì™€ ë§ˆìš°ìŠ¤ ì»¤ì„œ ìœ„ì¹˜ì˜ ì¢Œí‘œë¡œ ì„ ì„ í‘œì‹œí•©ë‹ˆë‹¤
        var movepath = [path[path.length-1], mousePosition];
        moveLine.setPath(movepath);
        moveLine.setMap(map);

        var distance = Math.round(clickLine.getLength() + moveLine.getLength()), // ì„ ì˜ ì´ ê±°ë¦¬ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤
            content = '<div class="dotOverlay distanceInfo">ì´ê±°ë¦¬ <span class="number">' + distance + '</span>m</div>'; // ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ì— ì¶”ê°€ë  ë‚´ìš©ì…ë‹ˆë‹¤

        // ê±°ë¦¬ì •ë³´ë¥¼ ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
        showDistance(content, mousePosition);
    }
});

// ì§€ë„ì— ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
// ì„ ì„ ê·¸ë¦¬ê³ ìˆëŠ” ìƒíƒœì—ì„œ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì„  ê·¸ë¦¬ê¸°ë¥¼ ì¢…ë£Œí•©ë‹ˆë‹¤
kakao.maps.event.addListener(map, 'rightclick', function (mouseEvent) {

    // ì§€ë„ ì˜¤ë¥¸ìª½ í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆëŠ”ë° ì„ ì„ ê·¸ë¦¬ê³ ìˆëŠ” ìƒíƒœì´ë©´
    if (drawingFlag) {

        // ë§ˆìš°ìŠ¤ë¬´ë¸Œë¡œ ê·¸ë ¤ì§„ ì„ ì€ ì§€ë„ì—ì„œ ì œê±°í•©ë‹ˆë‹¤
        moveLine.setMap(null);
        moveLine = null;

        // ë§ˆìš°ìŠ¤ í´ë¦­ìœ¼ë¡œ ê·¸ë¦° ì„ ì˜ ì¢Œí‘œ ë°°ì—´ì„ ì–»ì–´ì˜µë‹ˆë‹¤
        var path = clickLine.getPath();

        // ì„ ì„ êµ¬ì„±í•˜ëŠ” ì¢Œí‘œì˜ ê°œìˆ˜ê°€ 2ê°œ ì´ìƒì´ë©´
        if (path.length > 1) {

            // ë§ˆì§€ë§‰ í´ë¦­ ì§€ì ì— ëŒ€í•œ ê±°ë¦¬ ì •ë³´ ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ì§€ì›ë‹ˆë‹¤
            if (dots[dots.length-1].distance) {
                dots[dots.length-1].distance.setMap(null);
                dots[dots.length-1].distance = null;
            }

            var distance = Math.round(clickLine.getLength()), // ì„ ì˜ ì´ ê±°ë¦¬ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤
                content = getTimeHTML(distance); // ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ì— ì¶”ê°€ë  ë‚´ìš©ì…ë‹ˆë‹¤

            // ê·¸ë ¤ì§„ ì„ ì˜ ê±°ë¦¬ì •ë³´ë¥¼ ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
            showDistance(content, path[path.length-1]);

        } else {

            // ì„ ì„ êµ¬ì„±í•˜ëŠ” ì¢Œí‘œì˜ ê°œìˆ˜ê°€ 1ê°œ ì´í•˜ì´ë©´
            // ì§€ë„ì— í‘œì‹œë˜ê³  ìˆëŠ” ì„ ê³¼ ì •ë³´ë“¤ì„ ì§€ë„ì—ì„œ ì œê±°í•©ë‹ˆë‹¤.
            deleteClickLine();
            deleteCircleDot();
            deleteDistnce();

        }

        // ìƒíƒœë¥¼ falseë¡œ, ê·¸ë¦¬ì§€ ì•Šê³  ìˆëŠ” ìƒíƒœë¡œ ë³€ê²½í•©ë‹ˆë‹¤
        drawingFlag = false;
    }
});

// í´ë¦­ìœ¼ë¡œ ê·¸ë ¤ì§„ ì„ ì„ ì§€ë„ì—ì„œ ì œê±°í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
function deleteClickLine() {
    if (clickLine) {
        clickLine.setMap(null);
        clickLine = null;
    }
}

// ë§ˆìš°ìŠ¤ ë“œë˜ê·¸ë¡œ ê·¸ë ¤ì§€ê³  ìˆëŠ” ì„ ì˜ ì´ê±°ë¦¬ ì •ë³´ë¥¼ í‘œì‹œí•˜ê±°
// ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ í´ë¦­ìœ¼ë¡œ ì„  ê·¸ë¦¬ê°€ ì¢…ë£Œëì„ ë•Œ ì„ ì˜ ì •ë³´ë¥¼ í‘œì‹œí•˜ëŠ” ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ìƒì„±í•˜ê³  ì§€ë„ì— í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
function showDistance(content, position) {

    if (distanceOverlay) { // ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ê°€ ìƒì„±ëœ ìƒíƒœì´ë©´

        // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ì˜ ìœ„ì¹˜ì™€ í‘œì‹œí•  ë‚´ìš©ì„ ì„¤ì •í•©ë‹ˆë‹¤
        distanceOverlay.setPosition(position);
        distanceOverlay.setContent(content);

    } else { // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ê°€ ìƒì„±ë˜ì§€ ì•Šì€ ìƒíƒœì´ë©´

        // ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ìƒì„±í•˜ê³  ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
        distanceOverlay = new kakao.maps.CustomOverlay({
            map: map, // ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ë¥¼ í‘œì‹œí•  ì§€ë„ì…ë‹ˆë‹¤
            content: content,  // ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ì— í‘œì‹œí•  ë‚´ìš©ì…ë‹ˆë‹¤
            position: position, // ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ë¥¼ í‘œì‹œí•  ìœ„ì¹˜ì…ë‹ˆë‹¤.
            xAnchor: 0,
            yAnchor: 0,
            zIndex: 3
        });
    }
}

// ê·¸ë ¤ì§€ê³  ìˆëŠ” ì„ ì˜ ì´ê±°ë¦¬ ì •ë³´ì™€
// ì„  ê·¸ë¦¬ê°€ ì¢…ë£Œëì„ ë•Œ ì„ ì˜ ì •ë³´ë¥¼ í‘œì‹œí•˜ëŠ” ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ì‚­ì œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
function deleteDistnce () {
    if (distanceOverlay) {
        distanceOverlay.setMap(null);
        distanceOverlay = null;
    }
}

// ì„ ì´ ê·¸ë ¤ì§€ê³  ìˆëŠ” ìƒíƒœì¼ ë•Œ ì§€ë„ë¥¼ í´ë¦­í•˜ë©´ í˜¸ì¶œí•˜ì—¬
// í´ë¦­ ì§€ì ì— ëŒ€í•œ ì •ë³´ (ë™ê·¸ë¼ë¯¸ì™€ í´ë¦­ ì§€ì ê¹Œì§€ì˜ ì´ê±°ë¦¬)ë¥¼ í‘œì¶œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
function displayCircleDot(position, distance) {

    // í´ë¦­ ì§€ì ì„ í‘œì‹œí•  ë¹¨ê°„ ë™ê·¸ë¼ë¯¸ ì»¤ìŠ¤í…€ì˜¤ë²„ë ˆì´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
    var circleOverlay = new kakao.maps.CustomOverlay({
        content: '<span class="dot"></span>',
        position: position,
        zIndex: 1
    });

    // ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
    circleOverlay.setMap(map);

    if (distance > 0) {
        // í´ë¦­í•œ ì§€ì ê¹Œì§€ì˜ ê·¸ë ¤ì§„ ì„ ì˜ ì´ ê±°ë¦¬ë¥¼ í‘œì‹œí•  ì»¤ìŠ¤í…€ ì˜¤ë²„ë ˆì´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
        var distanceOverlay = new kakao.maps.CustomOverlay({
            content: '<div class="dotOverlay">ê±°ë¦¬ <span class="number">' + distance + '</span>m</div>',
            position: position,
            yAnchor: 1,
            zIndex: 2
        });

        // ì§€ë„ì— í‘œì‹œí•©ë‹ˆë‹¤
        distanceOverlay.setMap(map);
    }

    // ë°°ì—´ì— ì¶”ê°€í•©ë‹ˆë‹¤
    dots.push({circle:circleOverlay, distance: distanceOverlay});
}

// í´ë¦­ ì§€ì ì— ëŒ€í•œ ì •ë³´ (ë™ê·¸ë¼ë¯¸ì™€ í´ë¦­ ì§€ì ê¹Œì§€ì˜ ì´ê±°ë¦¬)ë¥¼ ì§€ë„ì—ì„œ ëª¨ë‘ ì œê±°í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
function deleteCircleDot() {
    var i;

    for ( i = 0; i < dots.length; i++ ){
        if (dots[i].circle) {
            dots[i].circle.setMap(null);
        }

        if (dots[i].distance) {
            dots[i].distance.setMap(null);
        }
    }

    dots = [];
}

// ë§ˆìš°ìŠ¤ ìš°í´ë¦­ í•˜ì—¬ ì„  ê·¸ë¦¬ê¸°ê°€ ì¢…ë£Œëì„ ë•Œ í˜¸ì¶œí•˜ì—¬
// ê·¸ë ¤ì§„ ì„ ì˜ ì´ê±°ë¦¬ ì •ë³´ì™€ ê±°ë¦¬ì— ëŒ€í•œ ë„ë³´, ìì „ê±° ì‹œê°„ì„ ê³„ì‚°í•˜ì—¬
// HTML Contentë¥¼ ë§Œë“¤ì–´ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
function getTimeHTML(distance) {

    // ë„ë³´ì˜ ì‹œì†ì€ í‰ê·  4km/h ì´ê³  ë„ë³´ì˜ ë¶„ì†ì€ 67m/minì…ë‹ˆë‹¤
    var walkkTime = distance / 67 | 0;
    var walkHour = '', walkMin = '';

    // ê³„ì‚°í•œ ë„ë³´ ì‹œê°„ì´ 60ë¶„ ë³´ë‹¤ í¬ë©´ ì‹œê°„ìœ¼ë¡œ í‘œì‹œí•©ë‹ˆë‹¤
    if (walkkTime > 60) {
        walkHour = '<span class="number">' + Math.floor(walkkTime / 60) + '</span>ì‹œê°„ '
    }
    walkMin = '<span class="number">' + walkkTime % 60 + '</span>ë¶„'

    // ìì „ê±°ì˜ í‰ê·  ì‹œì†ì€ 16km/h ì´ê³  ì´ê²ƒì„ ê¸°ì¤€ìœ¼ë¡œ ìì „ê±°ì˜ ë¶„ì†ì€ 267m/minì…ë‹ˆë‹¤
    var bycicleTime = distance / 227 | 0;
    var bycicleHour = '', bycicleMin = '';

    // ê³„ì‚°í•œ ìì „ê±° ì‹œê°„ì´ 60ë¶„ ë³´ë‹¤ í¬ë©´ ì‹œê°„ìœ¼ë¡œ í‘œì¶œí•©ë‹ˆë‹¤
    if (bycicleTime > 60) {
        bycicleHour = '<span class="number">' + Math.floor(bycicleTime / 60) + '</span>ì‹œê°„ '
    }
    bycicleMin = '<span class="number">' + bycicleTime % 60 + '</span>ë¶„'

    // ê±°ë¦¬ì™€ ë„ë³´ ì‹œê°„, ìì „ê±° ì‹œê°„ì„ ê°€ì§€ê³  HTML Contentë¥¼ ë§Œë“¤ì–´ ë¦¬í„´í•©ë‹ˆë‹¤
    var content = '<ul class="dotOverlay distanceInfo">';
    content += '    <li>';
    content += '        <span class="label">ì´ê±°ë¦¬</span><span class="number">' + distance + '</span>m';
    content += '    </li>';
    content += '    <li>';
    content += '        <span class="label">ë„ë³´</span>' + walkHour + walkMin;
    content += '    </li>';
    content += '    <li>';
    content += '        <span class="label">ìì „ê±°</span>' + bycicleHour + bycicleMin;
    content += '    </li>';
    content += '</ul>'

    return content;
}


var startSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/red_b.png', // ì¶œë°œ ë§ˆì»¤ì´ë¯¸ì§€ì˜ ì£¼ì†Œì…ë‹ˆë‹¤
    startSize = new kakao.maps.Size(50, 45), // ì¶œë°œ ë§ˆì»¤ì´ë¯¸ì§€ì˜ í¬ê¸°ì…ë‹ˆë‹¤
    startOption = {
        offset: new kakao.maps.Point(15, 43) // ì¶œë°œ ë§ˆì»¤ì´ë¯¸ì§€ì—ì„œ ë§ˆì»¤ì˜ ì¢Œí‘œì— ì¼ì¹˜ì‹œí‚¬ ì¢Œí‘œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤ (ê¸°ë³¸ê°’ì€ ì´ë¯¸ì§€ì˜ ê°€ìš´ë° ì•„ë˜ì…ë‹ˆë‹¤)
    };

// ì¶œë°œ ë§ˆì»¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
var startImage = new kakao.maps.MarkerImage(startSrc, startSize, startOption);

var startDragSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/red_drag.png', // ì¶œë°œ ë§ˆì»¤ì˜ ë“œë˜ê·¸ ì´ë¯¸ì§€ ì£¼ì†Œì…ë‹ˆë‹¤
    startDragSize = new kakao.maps.Size(50, 64), // ì¶œë°œ ë§ˆì»¤ì˜ ë“œë˜ê·¸ ì´ë¯¸ì§€ í¬ê¸°ì…ë‹ˆë‹¤
    startDragOption = {
        offset: new kakao.maps.Point(15, 54) // ì¶œë°œ ë§ˆì»¤ì˜ ë“œë˜ê·¸ ì´ë¯¸ì§€ì—ì„œ ë§ˆì»¤ì˜ ì¢Œí‘œì— ì¼ì¹˜ì‹œí‚¬ ì¢Œí‘œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤ (ê¸°ë³¸ê°’ì€ ì´ë¯¸ì§€ì˜ ê°€ìš´ë° ì•„ë˜ì…ë‹ˆë‹¤)
    };

// ì¶œë°œ ë§ˆì»¤ì˜ ë“œë˜ê·¸ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
var startDragImage = new kakao.maps.MarkerImage(startDragSrc, startDragSize, startDragOption);

// ì¶œë°œ ë§ˆì»¤ê°€ í‘œì‹œë  ìœ„ì¹˜ì…ë‹ˆë‹¤
var startPosition = new kakao.maps.LatLng(33.47665473073692,126.89625326024604);

// ì¶œë°œ ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
var startMarker = new kakao.maps.Marker({
    map: map, // ì¶œë°œ ë§ˆì»¤ê°€ ì§€ë„ ìœ„ì— í‘œì‹œë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤
    position: startPosition,
    draggable: true, // ì¶œë°œ ë§ˆì»¤ê°€ ë“œë˜ê·¸ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤
    image: startImage // ì¶œë°œ ë§ˆì»¤ì´ë¯¸ì§€ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤
});

// ì¶œë°œ ë§ˆì»¤ì— dragstart ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
kakao.maps.event.addListener(startMarker, 'dragstart', function() {
    // ì¶œë°œ ë§ˆì»¤ì˜ ë“œë˜ê·¸ê°€ ì‹œì‘ë  ë•Œ ë§ˆì»¤ ì´ë¯¸ì§€ë¥¼ ë³€ê²½í•©ë‹ˆë‹¤
    startMarker.setImage(startDragImage);
});

// ì¶œë°œ ë§ˆì»¤ì— dragend ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
kakao.maps.event.addListener(startMarker, 'dragend', function() {
     // ì¶œë°œ ë§ˆì»¤ì˜ ë“œë˜ê·¸ê°€ ì¢…ë£Œë  ë•Œ ë§ˆì»¤ ì´ë¯¸ì§€ë¥¼ ì›ë˜ ì´ë¯¸ì§€ë¡œ ë³€ê²½í•©ë‹ˆë‹¤
    startMarker.setImage(startImage);
});

var arriveSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/blue_b.png', // ë„ì°© ë§ˆì»¤ì´ë¯¸ì§€ ì£¼ì†Œì…ë‹ˆë‹¤
arriveSize = new kakao.maps.Size(50, 45), // ë„ì°© ë§ˆì»¤ì´ë¯¸ì§€ì˜ í¬ê¸°ì…ë‹ˆë‹¤
arriveOption = {
    offset: new kakao.maps.Point(15, 43) // ë„ì°© ë§ˆì»¤ì´ë¯¸ì§€ì—ì„œ ë§ˆì»¤ì˜ ì¢Œí‘œì— ì¼ì¹˜ì‹œí‚¬ ì¢Œí‘œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤ (ê¸°ë³¸ê°’ì€ ì´ë¯¸ì§€ì˜ ê°€ìš´ë° ì•„ë˜ì…ë‹ˆë‹¤)
};

// ë„ì°© ë§ˆì»¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
var arriveImage = new kakao.maps.MarkerImage(arriveSrc, arriveSize, arriveOption);

var arriveDragSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/blue_drag.png', // ë„ì°© ë§ˆì»¤ì˜ ë“œë˜ê·¸ ì´ë¯¸ì§€ ì£¼ì†Œì…ë‹ˆë‹¤
    arriveDragSize = new kakao.maps.Size(50, 64), // ë„ì°© ë§ˆì»¤ì˜ ë“œë˜ê·¸ ì´ë¯¸ì§€ í¬ê¸°ì…ë‹ˆë‹¤
    arriveDragOption = {
        offset: new kakao.maps.Point(15, 54) // ë„ì°© ë§ˆì»¤ì˜ ë“œë˜ê·¸ ì´ë¯¸ì§€ì—ì„œ ë§ˆì»¤ì˜ ì¢Œí‘œì— ì¼ì¹˜ì‹œí‚¬ ì¢Œí‘œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤ (ê¸°ë³¸ê°’ì€ ì´ë¯¸ì§€ì˜ ê°€ìš´ë° ì•„ë˜ì…ë‹ˆë‹¤)
    };

// ë„ì°© ë§ˆì»¤ì˜ ë“œë˜ê·¸ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
var arriveDragImage = new kakao.maps.MarkerImage(arriveDragSrc, arriveDragSize, arriveDragOption);

// ë„ì°© ë§ˆì»¤ê°€ í‘œì‹œë  ìœ„ì¹˜ì…ë‹ˆë‹¤
var arrivePosition = new kakao.maps.LatLng(33.454957641461576, 126.9282891964056);

// ë„ì°© ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
var arriveMarker = new kakao.maps.Marker({
    map: map, // ë„ì°© ë§ˆì»¤ê°€ ì§€ë„ ìœ„ì— í‘œì‹œë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤
    position: arrivePosition,
    draggable: true, // ë„ì°© ë§ˆì»¤ê°€ ë“œë˜ê·¸ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤
    image: arriveImage // ë„ì°© ë§ˆì»¤ì´ë¯¸ì§€ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤
});

// ë„ì°© ë§ˆì»¤ì— dragstart ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
kakao.maps.event.addListener(arriveMarker, 'dragstart', function() {
    // ë„ì°© ë§ˆì»¤ì˜ ë“œë˜ê·¸ê°€ ì‹œì‘ë  ë•Œ ë§ˆì»¤ ì´ë¯¸ì§€ë¥¼ ë³€ê²½í•©ë‹ˆë‹¤
    arriveMarker.setImage(arriveDragImage);
});

// ë„ì°© ë§ˆì»¤ì— dragend ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
kakao.maps.event.addListener(arriveMarker, 'dragend', function() {
     // ë„ì°© ë§ˆì»¤ì˜ ë“œë˜ê·¸ê°€ ì¢…ë£Œë  ë•Œ ë§ˆì»¤ ì´ë¯¸ì§€ë¥¼ ì›ë˜ ì´ë¯¸ì§€ë¡œ ë³€ê²½í•©ë‹ˆë‹¤
    arriveMarker.setImage(arriveImage);
});

// ë§ˆì»¤ë¥¼ í‘œì‹œí•  ìœ„ì¹˜ì™€ ë‚´ìš©ì„ ê°€ì§€ê³  ìˆëŠ” ê°ì²´ ë°°ì—´ì…ë‹ˆë‹¤
var positions = [
    {
        content: '<div>2. ë§ë¯¸ì˜¤ë¦„</div>',
        latlng: new kakao.maps.LatLng(33.47607619812092, 126.88436560305558)
    },
    {
        content: '<div>3. ì•Œì˜¤ë¦„</div>',
        latlng: new kakao.maps.LatLng(33.47607619812092, 126.88436560305558)
    },
    {
        content: '<div>4. ì¢…ë‹¬ë¦¬ ì˜› ì†Œê¸ˆë°­</div>',
        latlng: new kakao.maps.LatLng(33.49189181620716, 126.9017122596799)
    },
    {
        content: '<div>5. ëª©í™”íœ´ê²Œì†Œ</div>',
        latlng: new kakao.maps.LatLng(33.481762258394355, 126.90169142285922)
    },
    {
        content: '<div>6. ì‹œí¥í•´ë…€ì˜ì§‘</div>',
        latlng: new kakao.maps.LatLng(33.47792648795158, 126.90831248828744)
    },
        {
        content: '<div>7. ì„±ì‚°ì¼ì¶œë´‰</div>',
        latlng: new kakao.maps.LatLng(33.459025891219625, 126.94056986558017)
    },
        {
        content: '<div>8. ì„±ì‚°í¬í•­</div>',
        latlng: new kakao.maps.LatLng(33.47380925179649, 126.93455658283938)
    },
            {
        content: '<div>9. ìˆ˜ë§ˆí¬í•´ì•ˆ</div>',
        latlng: new kakao.maps.LatLng(33.4602450011539, 126.93542731482071)
    },
            {
        content: '<div>10. ê´‘ì¹˜ê¸° í•´ë³€</div>',
        latlng: new kakao.maps.LatLng(33.45546264260858, 126.92846087900288)
    },
            {
        content: '<div>1. ì‹œí¥ë¦¬ ì •ë¥˜ì¥</div>',
        latlng: new kakao.maps.LatLng(33.47665473073692, 126.89625326024604)
    },

];

for (var i = 0; i < positions.length; i ++) {
    // ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
    var marker = new kakao.maps.Marker({
        map: map, // ë§ˆì»¤ë¥¼ í‘œì‹œí•  ì§€ë„
        position: positions[i].latlng // ë§ˆì»¤ì˜ ìœ„ì¹˜
    });

    // ë§ˆì»¤ì— í‘œì‹œí•  ì¸í¬ìœˆë„ìš°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
    var infowindow = new kakao.maps.InfoWindow({
        content: positions[i].content // ì¸í¬ìœˆë„ìš°ì— í‘œì‹œí•  ë‚´ìš©
    });

    // ë§ˆì»¤ì— mouseover ì´ë²¤íŠ¸ì™€ mouseout ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤
    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¡œëŠ” í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ë“±ë¡í•©ë‹ˆë‹¤
    // forë¬¸ì—ì„œ í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ ì£¼ì§€ ì•Šìœ¼ë©´ ë§ˆì§€ë§‰ ë§ˆì»¤ì—ë§Œ ì´ë²¤íŠ¸ê°€ ë“±ë¡ë©ë‹ˆë‹¤
    kakao.maps.event.addListener(marker, 'mouseover', makeOverListener(map, marker, infowindow));
    kakao.maps.event.addListener(marker, 'mouseout', makeOutListener(infowindow));
}

// ì¸í¬ìœˆë„ìš°ë¥¼ í‘œì‹œí•˜ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
function makeOverListener(map, marker, infowindow) {
    return function() {
        infowindow.open(map, marker);
    };
}

// ì¸í¬ìœˆë„ìš°ë¥¼ ë‹«ëŠ” í´ë¡œì €ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
function makeOutListener(infowindow) {
    return function() {
        infowindow.close();
    };
}
</script>

<img src="https://www.jejuolle.org/trail/kor/images/sub_course/sub_vmap_01.jpg" alt="ì½”ìŠ¤1">

<hr/>
<link rel="stylesheet" href="{% static 'dist_app/index.css'%}">
<div id="recommendation">
    <section style="margin: 10px;">
        <fieldset id="fieldset" style="width: 75%; border-radius: 5px; padding: 5px; border:5px solid #9dcde3; background-color:#ffffff; margin-left: 15%;">
        <legend id="jeju_text" style="width: 98%; margin-left:10px;background-color:#9dcde3; padding-left:10px; padding-top:5px; padding-right:120px; padding-bottom:5px; ; color:white; border-radius:15px; font-size:40px;" ><b> &emsp;&emsp;JEJU ISLAND</b></legend><br>
        <input type="radio" name="radio" value="ì œì£¼ì‹œ" OnClick="window.location.href='http://127.0.0.1:8000/dist_app/jeju/';"> ì œì£¼ì‹œ &emsp;
        <input type="radio" name="radio" value="ì• ì›”" OnClick="window.location.href='http://127.0.0.1:8000/dist_app/aewol/';"> ì• ì›” &emsp;
        <input type="radio" name="radio" value="í•œë¦¼" OnClick="window.location.href='http://127.0.0.1:8000/dist_app/hanlim/';"> í•œë¦¼ &emsp;
        <input type="radio" name="radio" value="í•œê²½" OnClick="window.location.href='http://127.0.0.1:8000/dist_app/hankyung/';"> í•œê²½ &emsp;
        <input type="radio" name="radio" value="ëŒ€ì •" OnClick="window.location.href='http://127.0.0.1:8000/dist_app/daejung/';"> ëŒ€ì • &emsp;
        <input type="radio" name="radio" value="ì•ˆë•" OnClick="window.location.href='http://127.0.0.1:8000/dist_app/andeok/';"> ì•ˆë• &emsp;
        <input type="radio" name="radio" value="ì¤‘ë¬¸" OnClick="window.location.href='http://127.0.0.1:8000/dist_app/jungmun/';" > ì¤‘ë¬¸ &emsp;
        <input type="radio" name="radio" value="ì„œê·€í¬ì‹œ" OnClick="window.location.href='http://127.0.0.1:8000/dist_app/seogwipo/';"> ì„œê·€í¬ì‹œ &emsp;
        <input type="radio" name="radio" value="ë‚¨ì›" OnClick="window.location.href='http://127.0.0.1:8000/dist_app/namwon/';"> ë‚¨ì› &emsp;
        <input type="radio" name="radio" value="í‘œì„ " OnClick="window.location.href='http://127.0.0.1:8000/dist_app/pyosun/';"> í‘œì„  &emsp;
        <input type="radio" name="radio" value="ì„±ì‚°" OnClick="window.location.href='http://127.0.0.1:8000/dist_app/seongsan/';" > ì„±ì‚° &emsp;
        <input type="radio" name="radio" value="êµ¬ì¢Œ" OnClick="window.location.href='http://127.0.0.1:8000/dist_app/gujwa/';"> êµ¬ì¢Œ &emsp;
        <input type="radio" name="radio" value="ì¡°ì²œ" OnClick="window.location.href='http://127.0.0.1:8000/dist_app/jocheon/';"> ì¡°ì²œ &emsp;
        </fieldset>
    </section>

<br>
</div>
</body>
















        <!-- Footer-->
        <footer class="border-top">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <ul class="list-inline text-center">
                            <li class="list-inline-item">
                                <a href="#!">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="#!">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="#!">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                        </ul>
                        <div class="small text-center text-muted fst-italic">Copyright &copy; Your Website 2022</div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="{% static 'scripts.js' %}"></script>





{% endblock %}